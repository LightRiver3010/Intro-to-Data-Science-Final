library(tidyverse)
library(ggplot2)
install.packages("gganimate")
library(gganimate)
theme_set(theme_bw())
install.packages("Lahman")
library(Lahman)
install.packages("gifski")
library(gifski)
install.packages("gapminder")
library(gapminder)
head(gapminder)
library(palmerpenguins)

#Testing Animated Graphs

#1 - Animated Scatter Plot
p <- ggplot(
  gapminder,
  aes(x= gdpPercap, y=lifeExp, size=pop, color=country) 
) +
  geom_point(show.legend=FALSE, alpha=0.7) +
  scale_color_viridis_d() +
  scale_size(range=c(2,12)) +
  scale_x_log10() +
  labs(x="GDP per capital", y="Life expectancy") +
  transition_time(year) +
  labs(title = "Year: {frame_time}") +
  ease_aes('linear') +
  shadow_wake(wake_length = 0.1, alpha =FALSE)

animate(p, renderer = gifski_renderer())

df <- gapminder
df

df1 <- df |>
  filter(continent == 'Asia')

afg <- df1 |>
  filter(country == 'Afghanistan')

#2 - Animated Line Graph
g <- ggplot(
  df1,
  aes(x=year, y=lifeExp, group = country)
  ) +
  geom_line() +
  scale_color_viridis_b() +
  labs(x= "Year", y= "Life Expectancy") +
  geom_point() +
  transition_reveal(year)

g


#Making my own with Penguins
penguins <- palmerpenguins::penguins
penguins

y <- ggplot(
  penguins,
  aes(flipper_length_mm, body_mass_g, color=bill_depth_mm) 
) +
  geom_point() +
  transition_time(flipper_length_mm) +
  ease_aes('linear')

animate(y, renderer = gifski_renderer())

y
